<html>
<head>
    <title>Whitelines</title>
    <link rel="stylesheet" href="codemirror.css">
    <script src="codemirror.js"></script>

    <link rel="stylesheet" href="homePage.css">
    <link rel="manifest" href="/manifest.json">
</head>
<body>
  <div id="editorContainer" style="display: none">
    <button class="toggleButtons" onclick="toggleHtml()" id="html">HTML</button>
    <button class="toggleButtons" onclick="toggleCss()" id="css">CSS</button>
    <button class="toggleButtons" onclick="toggleJs()" id="js">JS</button>
    <div id="htmlEditorDiv">
      <textarea id="html-editor" name="html"></textarea>
    </div>
    <div id="cssEditorDiv" style="display: none">
      <textarea id="css-editor" name="css"></textarea>
    </div>
    <div id="jsEditorDiv" style="display: none">
      <textarea id="js-editor" name="js"></textarea>
    </div>
    <button id="execute-code">Execute</button>
  </div>

  <div id="overlay"></div>
  
  <button id="toggleEditorButton" style="display: block" onclick="toggleEditor()">Toggle Editor</button>

  <div id="output"></div>

  <div class="banner">
    <div class="navigationbar">
      <img src ="images\logo.png" class ="logo">
      <ul>
        <li><a href="./edit.html">Edit Image</a></li>
      </ul>
    </div>
    <div class="imageContainer" id="imageList">
      <div class="addImage">
        <img src="images\Drawing.png">
      </div>
    </div>
  </div>

  <script>
    const htmlEditor = CodeMirror.fromTextArea(document.getElementById('html-editor'), {
      mode: 'htmlmixed',
      lineNumbers: true,
      theme: 'default'
    });

    const cssEditor = CodeMirror.fromTextArea(document.getElementById('css-editor'), {
      mode: 'css',
      lineNumbers: true,
      theme: 'default'
    });

    const jsEditor = CodeMirror.fromTextArea(document.getElementById('js-editor'), {
      mode: 'javascript',
      lineNumbers: true,
      theme: 'default'
    });

    document.getElementById('execute-code').addEventListener('click', executeCode);

    function executeCode() {
      const html = htmlEditor.getValue();
      const css = cssEditor.getValue();
      const js = jsEditor.getValue();

      const output = document.getElementById('output');
      output.innerHTML = `<style>${css}</style>${html}`;

      try {
        eval(js);
      } catch (error) {
        console.error('Error executing the code:', error);
      }
    }
  </script>

  <script src="homePage.js" defer></script>
  <script>
    if('serviceWorker' in navigator) {
      navigator.serviceWorker.register('/sw.js', { scope: '/' });
    }
    </script> 

</body>
</html>                         