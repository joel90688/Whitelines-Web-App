<html>
<head>
    <title>Whitelines</title>
    <link rel="stylesheet" href="codemirror.css">
    <script src="codemirror.js"></script>

    <link rel="stylesheet" href="homePage.css">
    <link rel="manifest" href="/manifest.json">
</head>
<body>
  <div id="editorContainer" style="display: none">
    <button class="toggleButtons" onclick="toggleHtml()" id="html">HTML</button>
    <button class="toggleButtons" onclick="toggleCss()" id="css">CSS</button>
    <button class="toggleButtons" onclick="toggleJs()" id="js">JS</button>
    <div id="htmlEditorDiv">
      <textarea id="html-editor" name="html"></textarea>
    </div>
    <div id="cssEditorDiv" style="display: none">
      <textarea id="css-editor" name="css"></textarea>
    </div>
    <div id="jsEditorDiv" style="display: none">
      <textarea id="js-editor" name="js"></textarea>
    </div>
  </div>
  <button id="execute-code">Execute Code</button>
  
  <button onclick="toggleEditor()">Toggle Editor</button>

  <div id="output"></div>

  <script>
    const htmlEditor = CodeMirror.fromTextArea(document.getElementById('html-editor'), {
      mode: 'htmlmixed',
      lineNumbers: true,
      theme: 'default'
    });

    const cssEditor = CodeMirror.fromTextArea(document.getElementById('css-editor'), {
      mode: 'css',
      lineNumbers: true,
      theme: 'default'
    });

    const jsEditor = CodeMirror.fromTextArea(document.getElementById('js-editor'), {
      mode: 'javascript',
      lineNumbers: true,
      theme: 'default'
    });

    document.getElementById('execute-code').addEventListener('click', executeCode);

    function executeCode() {
      const html = htmlEditor.getValue();
      const css = cssEditor.getValue();
      const js = jsEditor.getValue();

      const output = document.getElementById('output');
      output.innerHTML = `<style>${css}</style>${html}`;

      try {
        eval(js);
      } catch (error) {
        console.error('Error executing the code:', error);
      }
    }

    function toggleEditor() {
      var element = document.getElementById("editorContainer");
      if (element.style.display === "none") {
        element.style.display = "block";
        editor.refresh();
      } else {
        element.style.display = "none";
      }
    }

    function toggleHtml() {
      var htmlEditorWindow = document.getElementById("htmlEditorDiv");
      var cssEditorWindow = document.getElementById("cssEditorDiv");
      var jsEditorWindow = document.getElementById("jsEditorDiv");

      var htmlButton = document.getElementById("html");
      var cssButton = document.getElementById("css");
      var jsButton = document.getElementById("js");

      htmlButton.style.color = "#fe5000";
      htmlButton.style.backgroundColor = "#000000";
      cssButton.style.color = "#000000";
      cssButton.style.backgroundColor = "#ffffff";
      jsButton.style.color = "#000000";
      jsButton.style.backgroundColor = "#ffffff";

      cssEditorWindow.style.display = "none";
      jsEditorWindow.style.display = "none";
      htmlEditorWindow.style.display = "block";

      editor.refresh();
    }

    function toggleCss() {
      var htmlEditorWindow = document.getElementById("htmlEditorDiv");
      var cssEditorWindow = document.getElementById("cssEditorDiv");
      var jsEditorWindow = document.getElementById("jsEditorDiv");

      var htmlButton = document.getElementById("html");
      var cssButton = document.getElementById("css");
      var jsButton = document.getElementById("js");

      cssButton.style.color = "#fe5000";
      cssButton.style.backgroundColor = "#000000";
      htmlButton.style.color = "#000000";
      htmlButton.style.backgroundColor = "#ffffff";
      jsButton.style.color = "#000000";
      jsButton.style.backgroundColor = "#ffffff";

      htmlEditorWindow.style.display = "none";
      cssEditorWindow.style.display = "block";
      jsEditorWindow.style.display = "none";

      editor.refresh();
    }

    function toggleJs() {
      var htmlEditorWindow = document.getElementById("htmlEditorDiv");
      var cssEditorWindow = document.getElementById("cssEditorDiv");
      var jsEditorWindow = document.getElementById("jsEditorDiv");

      var htmlButton = document.getElementById("html");
      var cssButton = document.getElementById("css");
      var jsButton = document.getElementById("js");

      jsButton.style.color = "#fe5000";
      jsButton.style.backgroundColor = "#000000";
      cssButton.style.color = "#000000";
      cssButton.style.backgroundColor = "#ffffff";
      htmlButton.style.color = "#000000";
      htmlButton.style.backgroundColor = "#ffffff";
      
      htmlEditorWindow.style.display = "none";
      cssEditorWindow.style.display = "none";
      jsEditorWindow.style.display = "block";

      editor.refresh();
    }
  </script>


  <div class="banner">
    <div class="navigationbar">
      <img src ="images\logo.png" class ="logo">
      <ul>
        <li><a href="./edit.html">Edit Image</a></li>
      </ul>
    </div>
    <div class="imageContainer" id="imageList">
      <div class="addImage">
        <img src="images\Drawing.png">
      </div>
    </div>
  </div>
  <script src="homePage.js" defer></script>
  <script>
    if('serviceWorker' in navigator) {
      navigator.serviceWorker.register('/sw.js', { scope: '/' });
    }
    </script> 
</body>
</html>                         